{% extends "admin/base.html" %}

{% block title %}{% if video %}Edit{% else %}New{% endif %} YouTube Video | Admin{% endblock %}

{% block page_title %}{% if video %}Edit{% else %}New{% endif %} Video{% endblock %}

{% block content %}
<div class="page-header">
    <div>
        <h1 class="page-title">{% if video %}Edit{% else %}New{% endif %} YouTube Video</h1>
        <p style="color: var(--text-muted); font-size: 14px; margin-top: 4px;">{% if video %}Update your video details{% else %}Add a new YouTube video{% endif %}</p>
    </div>
    <div class="page-actions">
        <a href="{{ url_for('admin_youtube_list') }}" class="btn btn-outline">
            <i class="ph ph-arrow-left"></i>
            Back
        </a>
    </div>
</div>

<div class="filament-table-container" style="padding: 32px;">
    <form method="POST">
        <div style="display: grid; gap: 24px; max-width: 600px;">
            <div>
                <label>Title *</label>
                <input type="text" name="title" value="{{ video.title if video else '' }}" required placeholder="Enter video title">
            </div>

            <div>
                <label>Description</label>
                <textarea name="description" rows="5" placeholder="Video description">{{ video.description if video else '' }}</textarea>
            </div>

            <div>
                <label>Video ID *</label>
                <input type="text" name="video_id" value="{{ video.video_id if video else '' }}" required placeholder="e.g., dQw4w9WgXcQ">
                <small style="color: var(--text-muted); font-size: 12px; margin-top: 4px; display: block;">YouTube video ID from the URL (youtube.com/watch?v=<strong>VIDEO_ID</strong>)</small>
            </div>

            <div>
                <label>Thumbnail URL</label>
                <input type="url" name="thumbnail_url" value="{{ video.thumbnail_url if video else '' }}" placeholder="https://img.youtube.com/vi/VIDEO_ID/maxresdefault.jpg">
            </div>

            <div>
                <label>Duration</label>
                <input type="text" name="duration" value="{{ video.duration if video else '' }}" placeholder="e.g., 45:30">
            </div>

            <div>
                <label style="display: flex; align-items: center; gap: 12px; cursor: pointer; margin-bottom: 0;">
                    <input type="checkbox" name="published" {% if video and video.published %}checked{% endif %} style="width: 18px; height: 18px; accent-color: var(--accent);">
                    <span>Publish immediately</span>
                </label>
            </div>

            <div style="display: flex; gap: 12px; padding-top: 8px;">
                <button type="submit" class="btn btn-primary">
                    <i class="ph ph-{% if video %}check{% else %}plus{% endif %}"></i>
                    {% if video %}Update{% else %}Create{% endif %} Video
                </button>
                <a href="{{ url_for('admin_youtube_list') }}" class="btn btn-outline">Cancel</a>
            </div>
        </div>
    </form>
</div>
{% endblock %}
